<ui:composition template="./layout/ncgms_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!--title-->
    <ui:define name="title">
        Reset Password
    </ui:define>
    <!--top-->
    <ui:define name="">
        
    </ui:define> 
    <!--Left-->
    <ui:define name="">
        
    </ui:define>
    <!--Content-->
    <ui:define name="content">
        
        <h:form id="verification_form">
            <h1>Send Verification Code:</h1>
            <h:message for="verification_form" errorClass="error"
                       infoClass="info"/><br />
            <label for="email">Enter the Email number you registered with:</label>
            <h:inputText id="email" value="#{forgotPasswordController.email}"/>
            <h:message for="email" errorClass="error"
                       infoClass="info"></h:message><br />
            <label for="send_code"></label>
            <h:commandButton id="send_code" value="Send Verification Code" 
                             action="#{forgotPasswordController.sendVerificationCode}">
                <f:ajax event="action" execute="@form" render="@all"/>
            </h:commandButton>
                                      
        </h:form>
                
        <h:form id="change_password_form">
            <h1>Reset Password</h1>
            <h:message for="change_password_form" errorClass="error"
                       infoClass="info"/><br />
            <label for="user_verification_code">Enter the Verification Code you received above:</label>
            <h:inputText id="user_verification_code" 
                         value="#{forgotPasswordController.userVerificationCode}"/>
            <h:message for="user_verification_code" errorClass="error"
                       infoClass="info"/><br />
            
            <label for="new_password">Enter new Password:</label>
            <h:inputText id="new_password" 
                         value="#{forgotPasswordController.newPassword}"/>
            <h:message for="new_password" errorClass="error"
                       infoClass="info"/><br />
            
            <label for="new_password_again">Re-enter new Password:</label>
            <h:inputText id="new_password_again" 
                         validator="#{forgotPasswordController.validatePasswords}"
                         value="#{forgotPasswordController.newPasswordAgain}"/>
            <h:message for="new_password_again" errorClass="error"
                       infoClass="info"/><br />
            
            <label for="save_changes"></label>
            <h:commandButton id="save_changes" value="Save Changes" 
                             action="#{forgotPasswordController.changePassword}">
                <f:ajax event="action" execute="@form" render="@all"/>
            </h:commandButton>                           
        </h:form>

    </ui:define>
    <!--Bottom-->
    <ui:define name="">

    </ui:define>
</ui:composition>

